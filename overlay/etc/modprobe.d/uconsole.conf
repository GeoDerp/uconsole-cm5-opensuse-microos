# uConsole custom module configuration for openSUSE MicroOS
# Load modules from /var/lib/modules-overlay since /lib/modules is read-only

# Backlight driver (OCP8178 with GPIO direction fix)
install ocp8178_bl /sbin/insmod /var/lib/modules-overlay/ocp8178_bl.ko

# Display drivers
install drm_rp1_dsi /sbin/insmod /var/lib/modules-overlay/drm-rp1-dsi.ko
install panel_cwu50 /sbin/insmod /var/lib/modules-overlay/panel-cwu50.ko
# panel_cwd686 is an alternative panel, keep its install rule too if present
install panel_cwd686 /sbin/insmod /var/lib/modules-overlay/panel-cwd686.ko

# Power management drivers
install axp20x_battery /sbin/insmod /var/lib/modules-overlay/axp20x_battery.ko
install axp20x_ac_power /sbin/insmod /var/lib/modules-overlay/axp20x_ac_power.ko

# RP1 audio output driver
install snd_soc_rp1_aout /sbin/insmod /var/lib/modules-overlay/snd-soc-rp1-aout.ko
