# uConsole CM5: Delay btrfs-scrub to prevent display underflow
#
# Problem: The default Persistent=true causes btrfsmaintenance services to run
# immediately at boot if the scheduled time was missed (device was off).
# This creates an I/O storm during early boot which causes DSI DMA underflow
# errors, sometimes leaving the display black.
#
# Solution: Disable Persistent to prevent immediate catch-up execution.
# The scrub will run at the next scheduled time (monthly) instead.
#
# Reference: https://www.freedesktop.org/software/systemd/man/systemd.timer.html

[Timer]
# Disable persistent catch-up to avoid I/O storm at boot
Persistent=false
# Add randomization to spread load when timer does fire
RandomizedDelaySec=2min
